# Docker Auto Update System - Environment Variables

# ===========================================
# 数据库配置 / Database Configuration
# ===========================================
DB_HOST=postgres
DB_PORT=5432
DB_NAME=dockerauto
DB_USER=postgres
DB_PASSWORD=password
DB_SSL_MODE=disable

# ===========================================
# 缓存配置 / Cache Configuration
# ===========================================
# 启用内存缓存
CACHE_ENABLED=true
# 默认缓存时间 (分钟)
CACHE_DEFAULT_TTL_MINUTES=30
# 镜像信息缓存时间 (小时)
CACHE_IMAGE_TTL_HOURS=6
# 配置缓存时间 (分钟)
CACHE_CONFIG_TTL_MINUTES=5
# 缓存清理间隔 (分钟)
CACHE_CLEANUP_INTERVAL_MINUTES=5

# ===========================================
# 应用配置 / Application Configuration
# ===========================================
# 应用端口
APP_PORT=8080
# 运行模式: development, production, test
APP_ENV=development
# 日志级别: debug, info, warn, error
LOG_LEVEL=info
# 日志格式: json, text
LOG_FORMAT=json

# ===========================================
# JWT认证配置 / JWT Authentication
# ===========================================
# JWT密钥 (生产环境请使用强密码)
JWT_SECRET=your-super-secret-jwt-key-change-in-production
# Token过期时间 (小时)
JWT_EXPIRE_HOURS=24
# 刷新Token过期时间 (天)
JWT_REFRESH_DAYS=7

# ===========================================
# Docker配置 / Docker Configuration
# ===========================================
# Docker Socket路径
DOCKER_HOST=unix:///var/run/docker.sock
# Docker API版本
DOCKER_API_VERSION=1.41
# 连接超时时间 (秒)
DOCKER_TIMEOUT=30

# ===========================================
# 镜像检查配置 / Image Check Configuration
# ===========================================
# 默认检查间隔 (分钟)
DEFAULT_CHECK_INTERVAL=60
# 最大并发检查数
MAX_CONCURRENT_CHECKS=10
# 镜像信息缓存时间 (小时)
IMAGE_CACHE_HOURS=6

# ===========================================
# 通知配置 / Notification Configuration
# ===========================================
# 启用邮件通知
EMAIL_ENABLED=false
# SMTP服务器
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
# 发件人邮箱
SMTP_FROM=docker-auto@yourdomain.com

# 启用Webhook通知
WEBHOOK_ENABLED=false
# Webhook URL
WEBHOOK_URL=https://your-webhook-endpoint.com/notify

# 企业微信机器人
WECHAT_ENABLED=false
WECHAT_WEBHOOK_URL=https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=your-key

# ===========================================
# 安全配置 / Security Configuration
# ===========================================
# 数据加密密钥 (用于加密敏感信息如镜像仓库密码)
ENCRYPTION_KEY=your-32-character-encryption-key-here
# 启用HTTPS
HTTPS_ENABLED=false
# SSL证书路径
SSL_CERT_PATH=/etc/ssl/certs/cert.pem
SSL_KEY_PATH=/etc/ssl/private/key.pem

# CORS配置
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With

# ===========================================
# 系统配置 / System Configuration
# ===========================================
# 最大日志保留天数
MAX_LOG_RETENTION_DAYS=30
# 最大更新历史保留条数
MAX_UPDATE_HISTORY_COUNT=1000
# 文件上传最大大小 (MB)
MAX_UPLOAD_SIZE_MB=10

# 系统资源限制
MAX_MEMORY_USAGE_PERCENT=80
MAX_DISK_USAGE_PERCENT=85
MAX_CPU_USAGE_PERCENT=90

# ===========================================
# 监控配置 / Monitoring Configuration
# ===========================================
# 启用Prometheus指标
PROMETHEUS_ENABLED=true
# Prometheus指标路径
PROMETHEUS_PATH=/metrics

# 健康检查配置
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10

# ===========================================
# 开发配置 / Development Configuration
# ===========================================
# 启用调试模式
DEBUG_MODE=true
# 启用API文档
API_DOCS_ENABLED=true
# API文档路径
API_DOCS_PATH=/swagger

# 数据库调试 (显示SQL语句)
DB_DEBUG=false
# 启用热重载
HOT_RELOAD=true

# ===========================================
# 前端配置 / Frontend Configuration
# ===========================================
# API基础URL
VUE_APP_API_BASE_URL=http://localhost:8080/api/v1
# WebSocket URL
VUE_APP_WS_URL=ws://localhost:8080/ws
# 应用标题
VUE_APP_TITLE=Docker Auto Update System
# 应用版本
VUE_APP_VERSION=1.0.0

# ===========================================
# 备份配置 / Backup Configuration
# ===========================================
# 启用自动备份
BACKUP_ENABLED=false
# 备份间隔 (小时)
BACKUP_INTERVAL_HOURS=24
# 备份保留天数
BACKUP_RETENTION_DAYS=7
# 备份存储路径
BACKUP_STORAGE_PATH=/backups

# ===========================================
# 第三方服务配置 / Third-party Services
# ===========================================
# Docker Hub API
DOCKERHUB_API_URL=https://registry-1.docker.io
DOCKERHUB_TOKEN=

# Harbor配置 (如果使用)
HARBOR_URL=https://your-harbor.com
HARBOR_USERNAME=
HARBOR_PASSWORD=

# AWS ECR配置 (如果使用)
AWS_REGION=us-west-2
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=

# ===========================================
# 性能调优配置 / Performance Tuning
# ===========================================
# 数据库连接池
DB_MAX_IDLE_CONNS=10
DB_MAX_OPEN_CONNS=100
DB_CONN_MAX_LIFETIME_MINUTES=60

# Redis连接池
REDIS_MAX_IDLE_CONNS=10
REDIS_MAX_ACTIVE_CONNS=100
REDIS_IDLE_TIMEOUT_SECONDS=300

# HTTP客户端配置
HTTP_CLIENT_TIMEOUT=30
HTTP_CLIENT_MAX_IDLE_CONNS=100
HTTP_CLIENT_MAX_CONNS_PER_HOST=10

# ===========================================
# 特性开关 / Feature Flags
# ===========================================
# 启用多租户支持
MULTI_TENANT_ENABLED=false
# 启用插件系统
PLUGIN_SYSTEM_ENABLED=false
# 启用高级更新策略
ADVANCED_UPDATE_STRATEGIES=false
# 启用审计日志
AUDIT_LOG_ENABLED=true